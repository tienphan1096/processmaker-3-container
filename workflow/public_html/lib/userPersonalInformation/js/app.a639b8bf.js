(function(t){function a(a){for(var s,r,n=a[0],l=a[1],_=a[2],d=0,u=[];d<n.length;d++)r=n[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&u.push(o[r][0]),o[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);S&&S(a);while(u.length)u.shift()();return i.push.apply(i,_||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],s=!0,n=1;n<e.length;n++){var l=e[n];0!==o[l]&&(s=!1)}s&&(i.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},o={app:0},i=[];function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/lib/userPersonalInformation/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=a,n=n.slice();for(var _=0;_<n.length;_++)a(n[_]);var S=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";e("85ec")},"56d7":function(t,a,e){"use strict";e.r(a);e("ac1f"),e("5319"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var s=e("2b0e"),o=e("5f5b"),i=e("b1e0"),r=(e("f9e3"),e("2dd8"),e("9ebe")),n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("personalInformation",{attrs:{refs:"personalInformation"}})],1)},l=[],_=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("titleSection",{attrs:{title:t.$root.translation("ID_PERSONAL_INFORMATION")}}),e("b-form",{on:{submit:function(a){return a.stopPropagation(),a.preventDefault(),t.onsubmit(a)}}},[e("b-container",{attrs:{fluid:""}},[e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_FIRSTNAME")+" (*)"}},[e("b-form-input",{attrs:{autocomplete:"off",state:t.validate.USR_FIRSTNAME.state,disabled:t.disabledField.USR_FIRSTNAME},on:{keyup:t.validateFirstName},model:{value:t.form.USR_FIRSTNAME,callback:function(a){t.$set(t.form,"USR_FIRSTNAME",a)},expression:"form.USR_FIRSTNAME"}}),e("b-form-invalid-feedback",[t._v(t._s(t.validate.USR_FIRSTNAME.message))])],1)],1),e("b-col",{attrs:{cols:"2"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_LASTNAME")+" (*)"}},[e("b-form-input",{attrs:{autocomplete:"off",state:t.validate.USR_LASTNAME.state,disabled:t.disabledField.USR_LASTNAME},on:{keyup:t.validateLastName},model:{value:t.form.USR_LASTNAME,callback:function(a){t.$set(t.form,"USR_LASTNAME",a)},expression:"form.USR_LASTNAME"}}),e("b-form-invalid-feedback",[t._v(t._s(t.validate.USR_LASTNAME.message))])],1)],1),e("b-col",{attrs:{cols:"1"}}),e("b-col",{attrs:{cols:"3"}},[e("b-avatar",{ref:"userAvatar",attrs:{rounded:"",size:"5rem",button:"","badge-variant":"light",src:t.urlImage,disabled:t.disabledField.USR_PHOTO},on:{click:t.avatarClick}})],1)],1),e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_ADDRESS")}},[e("b-form-input",{attrs:{autocomplete:"off",disabled:t.disabledField.USR_ADDRESS},model:{value:t.form.USR_ADDRESS,callback:function(a){t.$set(t.form,"USR_ADDRESS",a)},expression:"form.USR_ADDRESS"}})],1)],1),e("b-col",{attrs:{cols:"2"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_ZIP_CODE")}},[e("b-form-input",{attrs:{autocomplete:"off",disabled:t.disabledField.USR_ZIP_CODE},model:{value:t.form.USR_ZIP_CODE,callback:function(a){t.$set(t.form,"USR_ZIP_CODE",a)},expression:"form.USR_ZIP_CODE"}})],1)],1),e("b-col",{attrs:{cols:"1"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_USERNAME")+" (*)"}},[e("b-form-input",{attrs:{autocomplete:"off",state:t.validate.USR_USERNAME.state,disabled:t.disabledField.USR_USERNAME},on:{keyup:t.validateUserName},model:{value:t.form.USR_USERNAME,callback:function(a){t.$set(t.form,"USR_USERNAME",a)},expression:"form.USR_USERNAME"}}),e("b-form-valid-feedback",[e("span",{domProps:{innerHTML:t._s(t.validate.USR_USERNAME.message)}})]),e("b-form-invalid-feedback",[e("span",{domProps:{innerHTML:t._s(t.validate.USR_USERNAME.message)}})])],1)],1)],1),e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_COUNTRY")}},[e("b-form-select",{attrs:{options:t.countryList,disabled:t.disabledField.USR_COUNTRY},on:{change:t.getStateList},model:{value:t.form.USR_COUNTRY,callback:function(a){t.$set(t.form,"USR_COUNTRY",a)},expression:"form.USR_COUNTRY"}})],1)],1),e("b-col",{attrs:{cols:"2"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_STATE_REGION")}},[e("b-form-select",{attrs:{options:t.stateList,disabled:t.disabledField.USR_CITY},on:{change:t.getLocationList},model:{value:t.form.USR_CITY,callback:function(a){t.$set(t.form,"USR_CITY",a)},expression:"form.USR_CITY"}})],1)],1),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_CITY")}},[e("b-form-select",{attrs:{options:t.locationList,disabled:t.disabledField.USR_LOCATION},model:{value:t.form.USR_LOCATION,callback:function(a){t.$set(t.form,"USR_LOCATION",a)},expression:"form.USR_LOCATION"}})],1)],1),e("b-col",{attrs:{cols:"1"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_EMAIL")+" (*)"}},[e("b-form-input",{attrs:{autocomplete:"off",state:t.validate.USR_EMAIL.state,disabled:t.disabledField.USR_EMAIL},on:{keyup:t.validateEmail},model:{value:t.form.USR_EMAIL,callback:function(a){t.$set(t.form,"USR_EMAIL",a)},expression:"form.USR_EMAIL"}}),e("b-form-invalid-feedback",[t._v(t._s(t.validate.USR_EMAIL.message))])],1)],1)],1),e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_PHONE")}},[e("b-form-input",{attrs:{autocomplete:"off",disabled:t.disabledField.USR_PHONE},model:{value:t.form.USR_PHONE,callback:function(a){t.$set(t.form,"USR_PHONE",a)},expression:"form.USR_PHONE"}})],1)],1),e("b-col",{attrs:{cols:"2"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_POSITION")}},[e("b-form-input",{attrs:{autocomplete:"off",disabled:t.disabledField.USR_POSITION},model:{value:t.form.USR_POSITION,callback:function(a){t.$set(t.form,"USR_POSITION",a)},expression:"form.USR_POSITION"}})],1)],1),e("b-col",{attrs:{cols:"1"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_STATUS")}},[e("b-form-select",{attrs:{options:t.userStatus,disabled:t.disabledField.USR_STATUS},model:{value:t.form.USR_STATUS,callback:function(a){t.$set(t.form,"USR_STATUS",a)},expression:"form.USR_STATUS"}})],1)],1)],1),e("b-row",[e("b-col",{attrs:{cols:"5"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_REPLACED_BY")}},[e("b-input-group",[e("b-input-group-prepend",{staticClass:"w-25"},[e("b-form-input",{attrs:{autocomplete:"off",placeholder:"search",disabled:t.disabled},on:{keyup:t.getUsersList},model:{value:t.filterUser,callback:function(a){t.filterUser=a},expression:"filterUser"}})],1),e("b-form-select",{attrs:{options:t.usersList,disabled:t.disabledField.USR_REPLACED_BY},model:{value:t.form.USR_REPLACED_BY,callback:function(a){t.$set(t.form,"USR_REPLACED_BY",a)},expression:"form.USR_REPLACED_BY"}})],1)],1)],1),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_CALENDAR")}},[e("b-form-select",{attrs:{options:t.availableCalendars,disabled:t.disabledField.USR_CALENDAR},model:{value:t.form.USR_CALENDAR,callback:function(a){t.$set(t.form,"USR_CALENDAR",a)},expression:"form.USR_CALENDAR"}})],1)],1),e("b-col",{attrs:{cols:"1"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_EXPIRATION_DATE")}},[e("b-form-datepicker",{attrs:{"date-format-options":{year:"numeric",month:"numeric",day:"numeric"},disabled:t.disabledField.USR_DUE_DATE},model:{value:t.form.USR_DUE_DATE,callback:function(a){t.$set(t.form,"USR_DUE_DATE",a)},expression:"form.USR_DUE_DATE"}})],1)],1)],1),e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_TIME_ZONE")}},[e("b-form-select",{attrs:{options:t.timeZoneList,disabled:t.disabledField.USR_TIME_ZONE},model:{value:t.form.USR_TIME_ZONE,callback:function(a){t.$set(t.form,"USR_TIME_ZONE",a)},expression:"form.USR_TIME_ZONE"}})],1)],1),e("b-col",{attrs:{cols:"2"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_DEFAULT_LANGUAGE")}},[e("b-form-select",{attrs:{options:t.languagesList,disabled:t.disabledField.USR_DEFAULT_LANG},model:{value:t.form.USR_DEFAULT_LANG,callback:function(a){t.$set(t.form,"USR_DEFAULT_LANG",a)},expression:"form.USR_DEFAULT_LANG"}})],1)],1),e("b-col",{attrs:{cols:"1"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_ROLE")}},[e("b-form-select",{attrs:{options:t.rolesList,disabled:t.disabledField.USR_ROLE},on:{change:t.changeRole},model:{value:t.form.USR_ROLE,callback:function(a){t.$set(t.form,"USR_ROLE",a)},expression:"form.USR_ROLE"}})],1)],1)],1),e("b-row",[e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_DEFAULT_MAIN_MENU_OPTION")}},[e("b-form-select",{attrs:{options:t.defaultMainMenuOptionList,disabled:t.disabledField.PREF_DEFAULT_MENUSELECTED},on:{change:t.changeDefaultMainMenuOption},model:{value:t.form.PREF_DEFAULT_MENUSELECTED,callback:function(a){t.$set(t.form,"PREF_DEFAULT_MENUSELECTED",a)},expression:"form.PREF_DEFAULT_MENUSELECTED"}})],1)],1),e("b-col",{attrs:{cols:"2"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{attrs:{label:t.$root.translation("ID_DEFAULT_CASES_MENU_OPTION")}},[e("b-form-select",{attrs:{options:t.defaultCasesMenuOptionList,disabled:t.disabledField.PREF_DEFAULT_CASES_MENUSELECTED||t.switchChangeDefaultMainMenuOption},model:{value:t.form.PREF_DEFAULT_CASES_MENUSELECTED,callback:function(a){t.$set(t.form,"PREF_DEFAULT_CASES_MENUSELECTED",a)},expression:"form.PREF_DEFAULT_CASES_MENUSELECTED"}})],1)],1),e("b-col",{attrs:{cols:"1"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{class:t.classCustom,attrs:{label:t.$root.translation("ID_NEW_PASSWORD")+" (*)"}},[e("b-form-input",{attrs:{autocomplete:"off",state:t.validate.USR_NEW_PASS.state,type:"password",disabled:t.disabledField.USR_NEW_PASS},on:{keyup:t.validatePassword,change:function(a){t.editing=!1}},model:{value:t.form.USR_NEW_PASS,callback:function(a){t.$set(t.form,"USR_NEW_PASS",a)},expression:"form.USR_NEW_PASS"}}),e("b-form-valid-feedback",[e("span",{domProps:{innerHTML:t._s(t.validate.USR_NEW_PASS.message)}})]),e("b-form-invalid-feedback",[e("span",{domProps:{innerHTML:t._s(t.validate.USR_NEW_PASS.message)}})])],1)],1)],1),e("b-row",[e("b-col",{attrs:{cols:"3"}}),e("b-col",{attrs:{cols:"2"}}),e("b-col",{attrs:{cols:"3"}}),e("b-col",{attrs:{cols:"1"}}),e("b-col",{attrs:{cols:"3"}},[e("b-form-group",{class:t.classCustom,attrs:{label:t.$root.translation("ID_CONFIRM_PASSWORD")+" (*)"}},[e("b-form-input",{attrs:{autocomplete:"off",state:t.validate.USR_CNF_PASS.state,type:"password",disabled:t.disabledField.USR_CNF_PASS},on:{keyup:t.validateConfirmationPassword,change:function(a){t.editing=!1}},model:{value:t.form.USR_CNF_PASS,callback:function(a){t.$set(t.form,"USR_CNF_PASS",a)},expression:"form.USR_CNF_PASS"}}),e("b-form-invalid-feedback",[e("span",{domProps:{innerHTML:t._s(t.validate.USR_CNF_PASS.message)}})])],1)],1)],1),e("b-row",[e("b-col",{attrs:{cols:"8"}},[e("fieldset",{staticClass:"border pt-1 pl-3 pb-3 pr-3"},[e("legend",{staticStyle:{width:"auto"}},[t._v(t._s(t.$root.translation("ID_EXTENDED_ATTRIBUTES")))]),e("b-container",{staticClass:"mb-3"},[e("b-row",[e("b-col",t._l(t.userExtendedAttributesList,(function(a){return e("div",{key:a.id},[0===a.hidden?e("b-form-group",{attrs:{label:a.name+(1===a.required?" (*)":"")}},[e("b-form-input",{attrs:{autocomplete:"off",type:1===a.password?"password":"text",state:t.validateExtendedAttribute(a),disabled:t.disabled},model:{value:t.form.USR_EXTENDED_ATTRIBUTES_DATA[a.attributeId],callback:function(e){t.$set(t.form.USR_EXTENDED_ATTRIBUTES_DATA,a.attributeId,e)},expression:"form.USR_EXTENDED_ATTRIBUTES_DATA[userExtendedAttribute.attributeId]"}}),e("b-form-invalid-feedback",[t._v(t._s(t.$root.translation("ID_IS_REQUIRED")))])],1):t._e()],1)})),0)],1)],1)],1)]),e("b-col",{attrs:{cols:"4"}},[e("fieldset",{staticClass:"border pt-1 pl-3 pb-3 pr-3"},[e("legend",{staticStyle:{width:"auto"}},[t._v(t._s(t.$root.translation("ID_COSTS")))]),e("b-form-group",{attrs:{label:t.$root.translation("ID_COST_BY_HOUR")}},[e("b-form-input",{attrs:{autocomplete:"off",state:t.validate.USR_COST_BY_HOUR.state,disabled:t.disabledField.USR_COST_BY_HOUR},on:{keyup:t.validateCostByHour},model:{value:t.form.USR_COST_BY_HOUR,callback:function(a){t.$set(t.form,"USR_COST_BY_HOUR",a)},expression:"form.USR_COST_BY_HOUR"}}),e("b-form-invalid-feedback",[t._v(t._s(t.validate.USR_COST_BY_HOUR.message))])],1),e("b-form-group",{attrs:{label:t.$root.translation("ID_UNITS")}},[e("b-form-input",{attrs:{autocomplete:"off",disabled:t.disabledField.USR_UNIT_COST},model:{value:t.form.USR_UNIT_COST,callback:function(a){t.$set(t.form,"USR_UNIT_COST",a)},expression:"form.USR_UNIT_COST"}})],1)],1)])],1),e("b-row",[e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{staticClass:"mt-4"},[e("b-form-checkbox",{attrs:{value:"1","unchecked-value":"0",disabled:t.disabledField.USR_LOGGED_NEXT_TIME},model:{value:t.form.USR_LOGGED_NEXT_TIME,callback:function(a){t.$set(t.form,"USR_LOGGED_NEXT_TIME",a)},expression:"form.USR_LOGGED_NEXT_TIME"}},[t._v(" "+t._s(t.$root.translation("ID_USER_MUST_CHANGE_PASSWORD_AT_NEXT_LOGON"))+" ")])],1)],1)],1),e("b-row",{class:t.classCustom},[e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{staticClass:"mt-4 float-right"},[e("b-button",{attrs:{variant:"danger"},on:{click:t.cancel}},[t._v(t._s(t.$root.translation("ID_CANCEL")))]),t._v(" "),e("b-button",{attrs:{type:"submit",variant:"success",disabled:t.disableButtonSave}},[t._v(t._s(t.$root.translation("ID_SAVE")))])],1)],1)],1),e("b-row",{class:t.classCustom2},[e("b-col",{attrs:{cols:"12"}},[e("b-form-group",{staticClass:"mt-4 float-right"},[e("b-button",{attrs:{variant:"success"},on:{click:t.editPersonalInformation}},[t._v(t._s(t.$root.translation("ID_EDIT")))])],1)],1)],1)],1)],1)],1)},S=[],d=(e("a15b"),e("b0c0"),e("d3b7"),e("25f0"),e("498a"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h3",{staticClass:"text-primary"},[t._v(" "+t._s(t.title)+" ")])])}),u=[],f={props:{title:String}},E=f,c=e("2877"),U=Object(c["a"])(E,d,u,!1,null,"4605384b",null),R=U.exports,m=e("bc3a"),b=e.n(m),p={components:{titleSection:R},data:function(){return{form:{USR_UID:"",USR_FIRSTNAME:"",USR_LASTNAME:"",USR_ADDRESS:"",USR_ZIP_CODE:"",USR_COUNTRY:"",USR_CITY:"",USR_LOCATION:"",USR_USERNAME:"",USR_PHONE:"",USR_POSITION:"",USR_EMAIL:"",USR_REPLACED_BY:"",USR_CALENDAR:"",USR_STATUS:"ACTIVE",USR_TIME_ZONE:"",USR_DEFAULT_LANG:"",USR_DUE_DATE:this.getDefaultDueDate(),PREF_DEFAULT_MENUSELECTED:"PM_SETUP",PREF_DEFAULT_CASES_MENUSELECTED:"",USR_ROLE:"PROCESSMAKER_OPERATOR",USR_COST_BY_HOUR:"0",USR_UNIT_COST:"$",USR_NEW_PASS:"",USR_CNF_PASS:"",USR_LOGGED_NEXT_TIME:"0",USR_EXTENDED_ATTRIBUTES_DATA:[],USR_PHOTO:""},validate:{USR_FIRSTNAME:{message:"",state:null},USR_LASTNAME:{message:"",state:null},USR_USERNAME:{message:"",state:null},USR_EMAIL:{message:"",state:null},USR_NEW_PASS:{message:"",state:null},USR_CNF_PASS:{message:"",state:null},USR_COST_BY_HOUR:{message:"",state:null}},countryList:[{value:"",text:this.$root.translation("ID_SELECT")}],stateList:[{value:"",text:this.$root.translation("ID_SELECT")}],locationList:[{value:"",text:this.$root.translation("ID_SELECT")}],usersList:[],filterUser:"",availableCalendars:[],userStatus:[{value:"ACTIVE",text:this.$root.translation("ID_ACTIVE")},{value:"INACTIVE",text:this.$root.translation("ID_INACTIVE")},{value:"VACATION",text:this.$root.translation("ID_VACATION")}],timeZoneList:[],languagesList:[],defaultMainMenuOptionList:[],defaultCasesMenuOptionList:[],rolesList:[],userExtendedAttributesList:[],disableButtonSave:!1,editing:!1,urlImage:"",disabled:!1,disabledField:{USR_FIRSTNAME:!1,USR_LASTNAME:!1,USR_ADDRESS:!1,USR_ZIP_CODE:!1,USR_COUNTRY:!1,USR_CITY:!1,USR_LOCATION:!1,USR_USERNAME:!1,USR_PHONE:!1,USR_POSITION:!1,USR_EMAIL:!1,USR_REPLACED_BY:!1,USR_CALENDAR:!1,USR_STATUS:!1,USR_TIME_ZONE:!1,USR_DEFAULT_LANG:!1,USR_DUE_DATE:!1,PREF_DEFAULT_MENUSELECTED:!1,PREF_DEFAULT_CASES_MENUSELECTED:!1,USR_ROLE:!1,USR_COST_BY_HOUR:!1,USR_UNIT_COST:!1,USR_NEW_PASS:!1,USR_CNF_PASS:!1,USR_LOGGED_NEXT_TIME:!1,USR_PHOTO:!1},permission:{},classCustom:"",classCustom2:"",switchChangeDefaultMainMenuOption:!0,memoryChangeDefaultMainMenuOption:""}},mounted:function(){this.$nextTick((function(){var t=this,a=null;if(this.getTimeZoneList(),"USR_UID"in window&&""!==window.USR_UID?(this.editing=!0,a=this.load(),a.then((function(){t.loadServices()}))):(this.editing=!1,this.loadServices()),1===this.$root.modeOfForm()){for(var e in this.disabled=!1,this.disabledField)this.disabledField[e]=!1;this.classCustom="",this.classCustom2="sr-only sr-only-focusable"}if(2===this.$root.modeOfForm()){for(var s in this.disabled=!0,this.disabledField)this.disabledField[s]=!0;this.classCustom="sr-only sr-only-focusable",this.classCustom2=""}!1===this.$root.canEdit()&&(this.classCustom2="sr-only sr-only-focusable")}))},methods:{editPersonalInformation:function(){for(var t in this.classCustom="",this.classCustom2="sr-only sr-only-focusable",this.disabled=!1,this.disabledField)this.disabledField[t]=!1;for(var a in this.permission)a in this.disabledField&&(this.disabledField[a]=!0)},cancel:function(){if(1===this.$root.modeOfForm()&&(window.location=this.$root.baseUrl()+"users/users_List"),2===this.$root.modeOfForm()){for(var t in this.classCustom="sr-only sr-only-focusable",this.classCustom2="",this.disabled=!0,this.disabledField)this.disabledField[t]=!0;for(var a in this.validate)this.validate[a].state=null}},onsubmit:function(){var t=this;this.validateFirstName(),this.validateLastName();var a=this.validateUserName();a.then((function(a){t.validateEmail();var e=t.validatePassword();e.then((function(a){if(t.validateConfirmationPassword(),t.validateCostByHour(),!1!==t.validate.USR_FIRSTNAME.state&&!1!==t.validate.USR_LASTNAME.state&&!1!==t.validate.USR_USERNAME.state&&!1!==t.validate.USR_EMAIL.state&&!1!==t.validate.USR_NEW_PASS.state&&!1!==t.validate.USR_CNF_PASS.state&&!1!==t.validate.USR_COST_BY_HOUR.state){for(var e in t.userExtendedAttributesList){var s=t.validateExtendedAttribute(t.userExtendedAttributesList[e]);if(1===t.userExtendedAttributesList[e].required&&(null===s||!1===s))return}t.save()}}))}))},save:function(){var t=this,a={};for(var e in this.userExtendedAttributesList){var s=this.userExtendedAttributesList[e].attributeId,o=this.form.USR_EXTENDED_ATTRIBUTES_DATA[s];void 0!==o&&(a[s]=o)}var i=new FormData;return i.append("USR_FIRSTNAME",this.form.USR_FIRSTNAME),i.append("USR_LASTNAME",this.form.USR_LASTNAME),i.append("USR_USERNAME",this.form.USR_USERNAME),i.append("USR_EMAIL",this.form.USR_EMAIL),i.append("USR_ADDRESS",this.form.USR_ADDRESS),i.append("USR_ZIP_CODE",this.form.USR_ZIP_CODE),i.append("USR_COUNTRY",this.form.USR_COUNTRY),i.append("USR_CITY",this.form.USR_CITY),i.append("USR_REGION",this.form.USR_CITY),i.append("USR_LOCATION",this.form.USR_LOCATION),i.append("USR_PHONE",this.form.USR_PHONE),i.append("USR_POSITION",this.form.USR_POSITION),i.append("USR_REPLACED_BY",this.form.USR_REPLACED_BY),i.append("USR_DUE_DATE",this.form.USR_DUE_DATE),i.append("USR_CALENDAR",this.form.USR_CALENDAR),i.append("USR_STATUS",this.form.USR_STATUS),i.append("USR_ROLE",this.form.USR_ROLE),i.append("USR_TIME_ZONE",this.form.USR_TIME_ZONE),i.append("USR_DEFAULT_LANG",this.form.USR_DEFAULT_LANG),i.append("USR_COST_BY_HOUR",this.form.USR_COST_BY_HOUR),i.append("USR_UNIT_COST",this.form.USR_UNIT_COST),i.append("currentPassword",""),i.append("USR_NEW_PASS",this.form.USR_NEW_PASS),i.append("USR_CNF_PASS",this.form.USR_CNF_PASS),i.append("USR_PHOTO",this.form.USR_PHOTO),i.append("PREF_DEFAULT_MENUSELECTED",this.form.PREF_DEFAULT_MENUSELECTED),i.append("PREF_DEFAULT_CASES_MENUSELECTED",this.form.PREF_DEFAULT_CASES_MENUSELECTED),i.append("action","saveUser"),i.append("USR_UID",this.form.USR_UID),i.append("USR_LOGGED_NEXT_TIME",this.form.USR_LOGGED_NEXT_TIME),i.append("USR_EXTENDED_ATTRIBUTES_DATA",JSON.stringify(a)),i.append("_token",document.querySelector('meta[name="csrf-token"]').content),b.a.post(this.$root.baseUrl()+"users/usersAjax",i).then((function(a){if("error"in a.data&&""!==a.data.error)t.$bvModal.msgBoxOk(a.data.error,{title:" ",hideHeaderClose:!1,okTitle:t.$root.translation("ID_OK"),okVariant:"success",okOnly:!0}).then((function(t){})).catch((function(t){}));else if(1===t.$root.modeOfForm()&&(window.location=t.$root.baseUrl()+"users/users_List"),2===t.$root.modeOfForm()){for(var e in t.classCustom="sr-only sr-only-focusable",t.classCustom2="",t.disabled=!0,t.disabledField)t.disabledField[e]=!0;for(var s in t.validate)t.validate[s].state=null}})).catch((function(t){})).finally((function(){}))},validateFirstName:function(){this.validate.USR_FIRSTNAME.state=!0,""===this.form.USR_FIRSTNAME.trim()&&(this.validate.USR_FIRSTNAME.state=!1,this.validate.USR_FIRSTNAME.message=this.$root.translation("ID_IS_REQUIRED"))},validateLastName:function(){this.validate.USR_LASTNAME.state=!0,""===this.form.USR_LASTNAME.trim()&&(this.validate.USR_LASTNAME.state=!1,this.validate.USR_LASTNAME.message=this.$root.translation("ID_IS_REQUIRED"))},validateUserName:function(){var t=this;if(this.validate.USR_USERNAME.state=!0,""===this.form.USR_USERNAME.trim())return this.validate.USR_USERNAME.state=!1,this.validate.USR_USERNAME.message=this.$root.translation("ID_IS_REQUIRED"),new Promise((function(t,a){t()}));this.disableButtonSave=!0;var a=new FormData;return a.append("action","testUsername"),a.append("USR_UID",this.form.USR_UID),a.append("NEW_USERNAME",this.form.USR_USERNAME),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){if("error"in a.data&&""!==a.data.error)return t.$bvModal.msgBoxOk(t.$root.translation(a.data.error),{title:" ",hideHeaderClose:!1,okTitle:t.$root.translation("ID_OK"),okVariant:"success",okOnly:!0}).then((function(t){})).catch((function(t){})),t.disableButtonSave=!1,void(t.validate.USR_USERNAME.state=!0);t.disableButtonSave=!1,t.validate.USR_USERNAME.message=a.data.descriptionText,!1!==a.data.exists?t.validate.USR_USERNAME.state=!1:t.validate.USR_USERNAME.state=!0})).catch((function(t){})).finally((function(){}))},validateEmail:function(){if(this.validate.USR_EMAIL.state=!0,""===this.form.USR_EMAIL.trim())return this.validate.USR_EMAIL.state=!1,void(this.validate.USR_EMAIL.message=this.$root.translation("ID_IS_REQUIRED"));!1===/^(\w+)([-+.'][\w]+)*@(\w[-\w]*\.){1,5}([A-Za-z]){2,6}$/.test(this.form.USR_EMAIL)&&(this.validate.USR_EMAIL.state=!1,this.validate.USR_EMAIL.message=this.$root.translation("ID_INVALID_VALUE",[this.$root.translation("ID_EMAIL")]))},validatePassword:function(){var t=this;if(this.validate.USR_NEW_PASS.state=!0,!0===this.editing)return new Promise((function(t,a){t()}));if(""===this.form.USR_NEW_PASS.trim())return this.validate.USR_NEW_PASS.state=!1,this.validate.USR_NEW_PASS.message=this.$root.translation("ID_IS_REQUIRED"),new Promise((function(t,a){t()}));this.disableButtonSave=!0;var a=new FormData;return a.append("action","testPassword"),a.append("PASSWORD_TEXT",this.form.USR_NEW_PASS),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){t.disableButtonSave=!1;var e=!0===a.data.STATUS;t.validate.USR_NEW_PASS.state=e,t.validate.USR_NEW_PASS.message=a.data.DESCRIPTION})).catch((function(t){})).finally((function(){}))},validateConfirmationPassword:function(){return this.validate.USR_CNF_PASS.state=!0,!0===this.editing?new Promise((function(t,a){t()})):""===this.form.USR_CNF_PASS.trim()?(this.validate.USR_CNF_PASS.state=!1,void(this.validate.USR_CNF_PASS.message=this.$root.translation("ID_IS_REQUIRED"))):void(this.form.USR_CNF_PASS!==this.form.USR_NEW_PASS&&(this.validate.USR_CNF_PASS.state=!1,this.validate.USR_CNF_PASS.message=this.$root.translation("ID_NEW_PASS_SAME_OLD_PASS")))},validateCostByHour:function(){if(this.validate.USR_COST_BY_HOUR.state=!0,this.form.USR_COST_BY_HOUR=this.form.USR_COST_BY_HOUR.toString(),""===this.form.USR_COST_BY_HOUR.trim())return this.validate.USR_COST_BY_HOUR.state=!1,void(this.validate.USR_COST_BY_HOUR.message=this.$root.translation("ID_IS_REQUIRED"));!1===/^[0-9]/i.test(this.form.USR_COST_BY_HOUR)&&(this.validate.USR_COST_BY_HOUR.state=!1,this.validate.USR_COST_BY_HOUR.message=this.$root.translation("ID_INVALID_VALUE",[this.$root.translation("ID_COST_BY_HOUR")]))},validateExtendedAttribute:function(t){var a=this.form.USR_EXTENDED_ATTRIBUTES_DATA[t.attributeId];return 1===t.required?void 0!==a&&""!==a:null},load:function(){var t=this;this.urlImage=this.$root.baseUrl()+"users/users_ViewPhotoGrid?pUID="+window.USR_UID+"&h="+Math.random();var a=new FormData;return a.append("action","userData"),a.append("USR_UID",window.USR_UID),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){if("permission"in a.data&&(t.permission=a.data.permission,"USR_REGION"in t.permission&&(t.permission.USR_CITY=t.permission.USR_REGION,delete t.permission.USR_REGION),"USR_CUR_PASS"in t.permission&&delete t.permission.USR_CUR_PASS),"user"in a.data){for(var e in t.form)if(e in a.data.user){var s=a.data.user[e];"USR_EXTENDED_ATTRIBUTES_DATA"===e&&(null===s&&(s="{}"),s=JSON.parse(s)),t.form[e]=s}"REPLACED_NAME"in a.data.user&&"USR_REPLACED_BY"in a.data.user&&(t.usersList=[{value:a.data.user.USR_REPLACED_BY,text:a.data.user.REPLACED_NAME}]),t.changeDefaultMainMenuOption()}})).catch((function(t){})).finally((function(){}))},loadServices:function(){this.getCountryList(),this.getAvailableCalendars(),this.getLanguagesList(),this.getDefaultMainMenuOptionList(),this.getDefaultCasesMenuOptionList(),this.getRolesList(),this.getUserExtendedAttributesList()},getCountryList:function(){var t=this,a=new FormData;return a.append("action","countryList"),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){var e=[{value:"",text:t.$root.translation("ID_SELECT")}];for(var s in a.data)e.push({value:a.data[s].IC_UID,text:a.data[s].IC_NAME});t.countryList=e,t.getStateList()})).catch((function(t){})).finally((function(){}))},getStateList:function(){var t=this,a=new FormData;return a.append("action","stateList"),a.append("IC_UID",this.form.USR_COUNTRY),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){var e=[{value:"",text:t.$root.translation("ID_SELECT")}];for(var s in a.data)e.push({value:a.data[s].IS_UID,text:a.data[s].IS_NAME});t.stateList=e,t.getLocationList()})).catch((function(t){})).finally((function(){}))},getLocationList:function(){var t=this,a=new FormData;return a.append("action","locationList"),a.append("IC_UID",this.form.USR_COUNTRY),a.append("IS_UID",this.form.USR_CITY),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){var e=[{value:"",text:t.$root.translation("ID_SELECT")}];for(var s in a.data)e.push({value:a.data[s].IL_UID,text:a.data[s].IL_NAME});t.locationList=e})).catch((function(t){})).finally((function(){}))},getUsersList:function(){var t=this;if(""===this.filterUser.trim())return this.usersList=[],null;var a=new FormData;return a.append("action","usersList"),a.append("USR_UID",this.form.USR_UID),a.append("filter",this.filterUser.trim()),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){var e=[];for(var s in a.data)e.push({value:a.data[s].USR_UID,text:a.data[s].USER_FULLNAME});t.usersList=e,e.length>0?t.form.USR_REPLACED_BY=e[0].value:t.form.USR_REPLACED_BY=""})).catch((function(t){})).finally((function(){}))},getAvailableCalendars:function(){var t=this,a=new FormData;return a.append("action","availableCalendars"),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){var e=[];for(var s in a.data)e.push({value:a.data[s].CALENDAR_UID,text:a.data[s].CALENDAR_NAME});t.availableCalendars=e})).catch((function(t){})).finally((function(){}))},getTimeZoneList:function(){var t=this,a=new FormData;return a.append("action","timeZoneParameters"),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){var e=[];for(var s in a.data.timeZoneList)e.push({value:a.data.timeZoneList[s].value,text:a.data.timeZoneList[s].text});t.timeZoneList=e,t.form.USR_TIME_ZONE=a.data.systemTimeZone})).catch((function(t){})).finally((function(){}))},getLanguagesList:function(){var t=this,a=new FormData;return a.append("action","languagesList"),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){var e=[];for(var s in a.data)e.push({value:a.data[s].LAN_ID,text:a.data[s].LAN_NAME});t.languagesList=e})).catch((function(t){})).finally((function(){}))},getDefaultMainMenuOptionList:function(){var t=this,a=new FormData;return a.append("action","defaultMainMenuOptionList"),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){var e=[];for(var s in a.data)e.push({value:a.data[s].id,text:a.data[s].name});t.defaultMainMenuOptionList=e})).catch((function(t){})).finally((function(){}))},getDefaultCasesMenuOptionList:function(){var t=this,a=new FormData;return a.append("action","defaultCasesMenuOptionList"),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){var e=[{value:"",text:t.$root.translation("ID_SELECT")}];for(var s in a.data)e.push({value:a.data[s].id,text:a.data[s].name});t.defaultCasesMenuOptionList=e})).catch((function(t){})).finally((function(){}))},getRolesList:function(){var t=this,a=new FormData;return a.append("action","rolesList"),b.a.post(this.$root.baseUrl()+"users/usersAjax",a).then((function(a){var e=[];for(var s in a.data)e.push({value:a.data[s].ROL_UID,text:a.data[s].ROL_CODE});t.rolesList=e})).catch((function(t){})).finally((function(){}))},getUserExtendedAttributesList:function(){var t=this,a=new FormData;return a.append("option","userExtendedAttributesList"),a.append("roleCode",this.form.USR_ROLE),b.a.post(this.$root.baseUrl()+"userExtendedAttributes/index",a).then((function(a){t.userExtendedAttributesList=a.data.data})).catch((function(t){})).finally((function(){}))},getDefaultDueDate:function(){var t=new Date,a=""+(t.getMonth()+1),e=""+t.getDate(),s=t.getFullYear();return a.length<2&&(a="0"+a),e.length<2&&(e="0"+e),[s+1,a,e].join("-")},avatarClick:function(){var t=document.createElement("form"),a=document.createElement("input");a.type="file",t.appendChild(a),t.style.display="none",document.body.appendChild(t);var e=this;a.onchange=function(){var t=a.files[0];if(!1!==/(\.jpg|\.jpeg|\.png|\.gif)$/i.test(t.name)){e.form.USR_PHOTO=t;var s=new FileReader;s.onload=function(t){e.urlImage=t.target.result},s.readAsDataURL(t)}else e.$bvModal.msgBoxOk(e.$root.translation("ID_INVALID_EXTENSION"),{title:" ",hideHeaderClose:!1,okTitle:e.$root.translation("ID_OK"),okVariant:"success",okOnly:!0}).then((function(t){})).catch((function(t){}))},a.click()},changeRole:function(){this.getUserExtendedAttributesList()},changeDefaultMainMenuOption:function(){var t="PM_CASES"===this.form.PREF_DEFAULT_MENUSELECTED;this.switchChangeDefaultMainMenuOption=!t,t&&""!==this.form.PREF_DEFAULT_CASES_MENUSELECTED&&(this.memoryChangeDefaultMainMenuOption=this.form.PREF_DEFAULT_CASES_MENUSELECTED),this.form.PREF_DEFAULT_CASES_MENUSELECTED=t?this.memoryChangeDefaultMainMenuOption:""}}},A=p,T=Object(c["a"])(A,_,S,!1,null,"51bdcfe6",null),h=T.exports,v={name:"app",components:{personalInformation:h},data:function(){return{views:{personalInformation:!0}}},methods:{showView:function(t){for(var a in this.views)this.views[a]=!1;this.views[t]=!0}}},D=v,I=(e("034f"),Object(c["a"])(D,n,l,!1,null,null,null)),N=I.exports;s["default"].config.productionTip=!1,s["default"].use(o["a"]),s["default"].use(i["a"]),s["default"].use(r["ClientTable"],{},!1,"bootstrap4",{}),s["default"].use(r["ServerTable"],{},!1,"bootstrap4",{}),new s["default"]({render:function(t){return t(N)},methods:{translation:function(t,a){if("TRANSLATIONS"in window&&t in window.TRANSLATIONS&&(t=window.TRANSLATIONS[t],void 0!=a&&"length"in a))for(var e=0;e<a.length;e++)t=t.replace("{"+e+"}",a[e]);return t},baseUrl:function(){return"../"},canEdit:function(){var t=!0;return"canEdit"in window&&(t=window.canEdit),t},modeOfForm:function(){var t=1;return"modeOfForm"in window&&(t=window.modeOfForm),t}}}).$mount("#app")},"85ec":function(t,a,e){}});
//# sourceMappingURL=app.a639b8bf.js.map